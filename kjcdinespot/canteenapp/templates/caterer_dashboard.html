{% extends 'caterer_base.html' %}
{% load static %}
{% block content %}
  <div class="home bg-gray-800">
    <div id="carouselExampleCaptions" class="carousel slide mb-5" data-ride="carousel" style="height: 500px;">
        <ol class="carousel-indicators">
          <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
          <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
          <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
          <div class="carousel-item active">
            {% for canteen in canteens %}
            <img src="{% static 'images/gallery.jpg' %}" class="d-block w-100" alt="sushi1" style="height: 500px; object-fit: cover;">
            <div class="carousel-caption d-flex flex-column justify-content-center align-items-center h-100">
              <h1 class="text-warning display-4 mb-2">Welcome, {{ user.name }}</h1>
              <h2 class="text-white font-weight-bold">{{ canteen.canteen_name }}</h2>
          </div> {% endfor %}</div>
           
          
          <div class="carousel-item">
            {% for canteen in canteens %}
            <img src="{% static 'images/gallery-1.jpg' %}" class="d-block w-100" alt="sushi2" style="height: 500px; object-fit: cover;">
            <div class="carousel-caption d-flex flex-column justify-content-center align-items-center h-100">
              <h1 class="text-warning display-4 mb-2">Welcome, {{ user.name }}</h1>
              <h2 class="text-white font-weight-bold">{{ canteen.canteen_name }}</h2>
          </div> {% endfor %}</div>
          <div class="carousel-item">
            {% for canteen in canteens %}
            <img src="{% static 'images/gallery-2.jpg' %}" class="d-block w-100" alt="sushi3" style="height: 500px; object-fit: cover;">
            <div class="carousel-caption d-flex flex-column justify-content-center align-items-center h-100">
              <h1 class="text-warning display-4 mb-2">Welcome, {{ user.name }}</h1>
              <h2 class="text-white font-weight-bold">{{ canteen.canteen_name }}</h2>
          </div> {% endfor %}
          </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
    </div>
    <div class="container  mx-auto px-0 lg:px-6 py-8">
      <h1 class="text-center text-light mb-3 ">Our Dishes</h1>
     
      <div class="home">
        {% comment %} <h1 class="text-center text-light mb-3">Your Canteen Items</h1> {% endcomment %}
    
{% for canteen in canteens %}
  <div class="canteen-section mb-6">
    <div class="row">
      {% for item in items %}
        {% if item.canteen == canteen %}
          <div class="col-sm-6">
            <div class="card mb-3" style="height: fit-content; overflow: auto;">
              <img src="{{ item.image.url }}" style="height: 250px; object-fit: cover;">
              <div class="card-body bg-gray-700 text-light text-center p-4">
                <h5 class="text-center font-serif text-xl font-bold tracking-widest">{{ item.title }}</h5>
                <p class="text-center text-lg tracking-wide">{{ item.description }}</p>
                <h6 class="text-center text-sm">
                  <b class="tracking-widest">Status:</b> 
                  <span class="">{{ item.instructions }}</span>
                </h6>
                <h5 class="text-center text-lg font-bold tracking-widest">₹ {{ item.price }}</h5>
              </div>
            </div>
          </div>
          
        {% endif %}
            {% empty %}
              <p class="text-warning text-center">No items available for this canteen.</p>
            {% endfor %}
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
  </div>
{% endblock content %}
{% comment %} <section class="bg-gray-900 min-h-screen">
    <!-- Carousel Section -->
    <div id="carouselExampleCaptions" class="carousel slide mb-5" data-ride="carousel" data-interval="3000" style="height: 400px;">
        <!-- Carousel Indicators -->
        <ol class="carousel-indicators">
          <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
          <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
          <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
        </ol>

        <!-- Carousel Items -->
        <div class="carousel-inner">
            {% for canteen in canteens %}
            <div class="carousel-item">
                <img src="{% static 'media/b2.jpg' %}" class="d-block w-100" alt="Canteen Image" style="height: 400px; object-fit: cover;">
                <div class="carousel-caption d-flex flex-column justify-content-center align-items-center h-100">
                    <h1 class="text-warning display-4 mb-2">Welcome, {{ user.name }}</h1>
                    <h2 class="text-white font-weight-bold">{{ canteen.canteen_name }}</h2>
                </div>
            </div>
            {% empty %}
            <div class="carousel-item active">
                <img src="{% static 'media/default.jpg' %}" class="d-block w-100" alt="Default Image" style="height: 400px; object-fit: cover;">
                <div class="carousel-caption d-flex flex-column justify-content-center align-items-center h-100">
                    <h1 class="text-warning display-4 mb-2">Welcome, {{ user.name }}</h1>
                    <h2 class="text-white font-weight-bold">No Canteen Assigned</h2>
                </div>
            </div>
            {% endfor %}
        </div>

        <!-- Carousel Controls -->
        <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>

    <!-- Menu Section -->
    <div class="container mx-auto py-12 px-4">
        {% if canteens %}
            {% for canteen in canteens %}
            <div class="canteen-section mb-12 bg-gray-800 p-6 rounded-lg shadow-md">
                <h2 class="text-4xl font-bold text-center text-white mb-6">{{ canteen.canteen_name }}</h2>
                <h4 class="text-2xl font-semibold text-white mb-4">Menu Items</h4>
                <ul class="menu-list mb-4">
                    {% for item in items %}
                        {% if item.canteen == canteen %}
                        <li class="text-white py-2">• {{ item.title }} - ₹{{ item.price }}</li>
                        {% endif %}
                    {% empty %}
                    <li class="text-warning">No menu items available for this canteen.</li>
                    {% endfor %}
                </ul>
                <div class="text-center">
                    <a href="{% url 'canteen_menu' canteen.id %}" class="btn btn-primary">View Full Menu</a>
                </div>
            </div>
            {% endfor %}
        {% else %}
            <p class="text-warning text-center">You don't have any canteens yet.</p>
        {% endif %}
    </div>
</section>
{% endblock %} {% endcomment %}
